@page "/"
@inject NavigationManager Navigation

<link href="/css/Home.css" rel="stylesheet"/>

<PageTitle>Home</PageTitle>

<!-- Banner Section -->
<div class="banner pearlescent-bg text-white text-center py-5">
    <h1>Welcome to Our Event Registration System</h1>
    <p class="lead">Register for exciting events and stay updated with our upcoming events!</p>
</div>

<!-- Date Banner -->
<div class="date-banner text-center py-5 bg-gray text-white">
    <p id="current-date" class="m-0"></p>
    <h3>Countdown to Next Event:</h3>
    <h2 id="countdown-timer"></h2>
</div>

<div class="container my-5">
    <div class="row">
        <div class="col-md-4">
            <div class="card mb-4">
                <img src="Event Images/LiverpoolVsMancity.png" class="card-img-top" alt="Event 1">
                <div class="card-body">
                    <h5 class="card-title">Football Match: Liverpool vs Man City</h5>
                    <p class="card-text">Come and be part of an unforgettable experience as Liverpool takes on Manchester City on May 10, 2025! It’s going to be an action-packed match filled with thrills and excitement. Don't miss your chance to witness top-tier football – this is an event you won’t want to miss!</p>
                    <h5 class="event-date">10 May 2025</h5>
                    <button class="btn btn-primary" @onclick="() => NavigateToEventDetails(1)">Learn More</button>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card mb-4">
                <img src="Event Images/JJ Lin Poster.jpg" class="card-img-top" alt="Event 2">
                <div class="card-body">
                    <h5 class="card-title">Music Event: Music Concert by JJ Lin</h5>
                    <p class="card-text">Get ready for an incredible night of music with JJ Lin at his live concert! Join us for an unforgettable evening on 18 June 2025, where JJ will perform his greatest hits and take you on a musical journey like no other. Don't miss the chance to experience his amazing talent and connect with the music in an intimate, high-energy atmosphere. Get your tickets now for a night you’ll never forget!</p>
                    <h5 class="event-date">18 June 2025</h5>
                    <button class="btn btn-primary" @onclick="() => NavigateToEventDetails(2)">Learn More</button>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card mb-4">
                <img src="Event Images/Godzilla Vs Groot.jpg" class="card-img-top" alt="Event 3">
                <div class="card-body">
                    <h5 class="card-title">Movie Event: Godzilla Vs Groot</h5>
                    <p class="card-text">Brace yourselves for an epic showdown like no other—Godzilla vs Groot! On 15 July 2025, witness these legendary titans face off in a battle of sheer power and incredible might. Who will reign supreme in this ultimate clash of strength and nature? Be part of the action and don’t miss this thrilling, larger-than-life spectacle!</p>
                    <h5 class="event-date">15 July 2025</h5>
                    <button class="btn btn-primary" @onclick="() => NavigateToEventDetails(3)">Learn More</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function updateCountdown() {
        // Set the date we're counting down to
        var countDownDate = new Date("May 10, 2025 00:00:00").getTime();

        // Update the countdown every 1 second
        var x = setInterval(function () {
            // Get the current date and time
            var now = new Date().getTime();

            // Find the distance between now and the count down date
            var distance = countDownDate - now;

            // Time calculations for days, hours, minutes, and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result in the element with id="countdown-timer"
            document.getElementById("countdown-timer").innerHTML = days + "d " + hours + "h "
                + minutes + "m " + seconds + "s ";

            // If the countdown is over, display a message
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("countdown-timer").innerHTML = "Event Started!";
            }
        }, 1000);
    }

    // Call the countdown function when the page loads
    window.onload = updateCountdown;
</script>

@code {
    private void NavigateToEventDetails(int eventId)
    {
        Navigation.NavigateTo($"/event/{eventId}");
    }
}
